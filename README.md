# RS485

串行通信是一种信息的各位数据被逐位按顺序传送的通讯方式，特点是通信线路简单，只要一对传输线就可以实现双向通信，特别适用于远距离通信，但传送速度较慢。根据信息的传送方向，串行通讯可以进一步分为单工、半双工和全双工三种，串行通讯接口包括RS-232、RS-422与RS-485。

我们通常所说的串口UART包含TTL电平和RS232电平， TTL电平是3.3V的，而RS232是负逻辑电平，它定义+3~+15V为逻辑0，而-15~-3V为逻辑1，可通过MAX232芯片完成和TTL电平的转换。RS232是异步传输标准接口，包括9个引脚 (DB-9)和25个引脚(DB-25)的型态出现，RS-232-C接口(又称EIARS-232-C)是目前最常用的一种串行通讯接口。
RS232的缺点很明显，接口的信号电平值较高易损坏接口电路的芯片，需要另外的芯片与TTL转换兼容，传输速率低，三线形成共地传输，容易产生共模干扰，抗干扰性能弱，也导致传输距离有限（50米左右）。

所以针对RS232的不足，RS422采用5线（包括信号地线），拥有高输入阻抗和发送驱动能力，可实现一对多通信，通信距离可达1200米，通信速率可达10Mb/s，需要一电阻进行阻抗匹配。
RS-485采用差分信号正逻辑，+2—+6 V表示逻辑1，-2—-6 V表示逻辑0，信号电平较低，可直接和TTL电平兼容，同样的通信速率可达10Mb/s，采用平衡驱动器和差分接收器的组合，抗共模干能力增强，通信距离实际可达3000米，支持32个节点，使用特制芯片最多支持400个节点。


RS-232、RS-422与RS-485都是串行数据接口标准，最初都是由电子工业协会（EIA）制订并发布的，RS-232在1962年发布，命名为EIA-232-E，作为工业标准，以保证不同厂家产品之间的兼容。RS-422由RS-232发展而来，它是为弥补RS-232之不足而提出的。为改进RS-232通信距离短、速率低的缺点，RS-422定义了一种平衡通信接口，将传输速率提高到10Mb/s，传输距离延长到4000英尺（速率低于100kb/s时），并允许在一条平衡总线上连接最多10个接收器。RS-422是一种单机发送、多机接收的单向、平衡传输规范，被命名为TIA/EIA-422-A标准。为扩展应用范围，EIA又于1983年在RS-422基础上制定了RS-485标准，增加了多点、双向通信能力，即允许多个发送器连接到同一条总线上，同时增加了发送器的驱动能力和冲突保护特性，扩展了总线共模范围，后命名为TIA/EIA-485-A标准。

### 什么是RS-485接口？它比RS-232-C接口相比有何特点？

答：由于RS-232-C接口标准出现较早，难免有不足之处，主要有以下四点：

* （1）接口的信号电平值较高，易损坏接口电路的芯片，又因为与TTL 电平不兼容故需使用电平转换电路方能与TTL电路连接。
* （2）传输速率较低，在异步传输时，波特率为20Kbps。
* （3）接口使用一根信号线和一根信号返回线而构成共地的传输形式， 这种共地传输容易产生共模干扰，所以抗噪声干扰性弱。
* （4）传输距离有限，最大传输距离标准值为50英尺，实际上也只能 用在50米左右。

针对RS-232-C的不足，于是就不断出现了一些新的接口标准，RS-485就是其中之一，它具有以下特点：

* RS-485的电气特性：逻辑“1”以两线间的电压差为+（2—6） V表示；逻辑“0”以两线间的电压差为-（2—6）V表示。接口信号电平比RS-232-C降低了，就不易损坏接口电路的芯片， 且该电平与TTL电平兼容，可方便与TTL 电路连接。
* RS-485的数据最高传输速率为10Mbps
* RS-485接口是采用平衡驱动器和差分接收器的组合，抗共模干能力增强，即抗噪声干扰性好。
* RS-485接口的最大传输距离标准值为4000英尺，实际上可达 3000米，另外RS-232-C接口在总线上只允许连接1个收发器， 即单站能力。而RS-485接口在总线上是允许连接多达128个收发器。即具有多站能力,这样用户可以利用单一的RS-485接口方便地建立起设备网络。

因RS-485接口具有良好的抗噪声干扰性，长的传输距离和多站能力等上述优点就使其成为首选的串行接口。 因为RS485接口组成的半双工网络，一般只需二根连线，所以RS485接口均采用屏蔽双绞线传输。 RS485接口连接器采用DB-9的9芯插头座，与智能终端RS485接口采用DB- 9（孔），与键盘连接的键盘接口RS485采用DB-9（针）。

### 采用RS485接口时，传输电缆的长度如何考虑？

答：在使用RS485接口时，对于特定的传输线经，从发生器到负载其数据信号传输所允许的最大电缆长度是数据信号速率的函数，这个 长度数据主要是受信号失真及噪声等影响所限制。下图所示的最大电缆长度与信号速率的关系曲线是使用24AWG铜芯双绞电话电缆（线 径为0.51mm），线间旁路电容为52.5PF/M，终端负载电阻为100欧 时所得出。（曲线引自GB11014-89附录A）。由图中可知，当数据信 号速率降低到90Kbit/S 以下时，假定最大允许的信号损失为6dBV时， 则电缆长度被限制在1200M。实际上，图中的曲线是很保守的，在实 用时是完全可以取得比它大的电缆长度。 当使用不同线径的电缆。则取得的最大电缆长度是不相同的。例 如：当数据信号速率为600Kbit/S时，采用24AWG电缆，由图可知最 大电缆长度是200m，若采用19AWG电缆（线径为0.91mm）则电缆长 度将可以大于200m； 若采用28AWG 电缆（线径为0。32mm）则电缆 长度只能小于200m。

RS-422标准全称是“平衡电压数字接口电路的电气特性”，它定义了接口电路的特性。实际上还有一根信号地线，共5根线。由于接收器采用高输入阻抗和发送驱动器比RS232更强的驱动能力，故允许在相同传输线上连接多个接收节点，最多可接10个节点。即一个主设备（Master），其余为从设备（Salve），从设备之间不能通信，所以RS-422支持点对多的双向通信。接收器输入阻抗为4k，故发端最大负载能力是10×4k+100Ω（终接电阻）。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON/XOFF握手）或硬件方式（一对单独的双绞线）。

RS-422的最大传输距离为4000英尺（约1219米），最大传输速率为10Mb/s。其平衡双绞线的长度与传输速率成反比，在 100kb/s速率以下，才可能达到最大传输距离。只有在很短的距离下才能获得最高速率传输。一般100米长的双绞线上所能获得的最大传输速率仅为 1Mb/s。

RS-422需要一终接电阻，要求其阻值约等于传输电缆的特性阻抗。在矩距离传输时可不需终接电阻，即一般在300米以下不需终接电阻。终接电阻接在传输电缆的最远端


由于RS-232接口标现较早，有以下四点不足：

* （1） 接口信号电平值较高，易损坏接口电路的芯片，和TTL有不同。
* （2） 传输速率较低，异步传输时波特率为20Kbps。
* （3） 接口使用一根信号线和一根信号返回线而构成共地的传输形式， 容易产生共模干扰抗噪声干扰性弱。
* （4） 最大传输距离标准值为50英尺，实际上也只能用在50米左右。

RS-485特性：

* 逻辑“1”以两线间的电压差为+（2—6）V表示
* 逻辑“0”以两线间的电压差为-（2—6）V表示

RS-485优势：

* 电平与TTL电平兼容，可方便与TTL电路连接
* RS-485的数据最高传输速率为10Mbps
* RS-485接口是采用平衡驱动器和差分接收器的组合，抗共模干能力增强。
* RS-485接口在总线上是允许连接多达128个收发器。
